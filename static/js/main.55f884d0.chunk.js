(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{19:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchForm_button:"Searchbar_SearchForm_button__3eKQ3",SearchForm_button_label:"Searchbar_SearchForm_button_label__5zUwS",SearchForm_input:"Searchbar_SearchForm_input__11BIx"}},24:function(e,t,a){e.exports={Button:"Button_Button__3R1xi",btnDiv:"Button_btnDiv__1IJi6"}},74:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(33),s=a.n(r),i=a(4),o=a(5),l=a(7),u=a(6),h=a(12),j=a(2),m=a(15),p=a(14),v=a.n(p),b=a(18),d=a(9),f=a.n(d),O=a(16),g=a.n(O);f.a.defaults.baseURL="https://api.themoviedb.org/3/",f.a.defaults.params={api_key:"523a15ded98cd05fab36993344058e43",language:"en-US"};var x=function(){var e=Object(b.a)(v.a.mark((function e(){var t,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"trending/movie/day"},e.next=4,f()(t);case 4:return a=e.sent,c=a.data,e.abrupt("return",c.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();function _(e,t){return N.apply(this,arguments)}function N(){return(N=Object(b.a)(v.a.mark((function e(t,a){var c,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={url:"search/movie",params:{query:t,page:a}},e.next=4,f()(c);case 4:if(n=e.sent,0!==(r=n.data).results.lenth){e.next=9;break}return alert("Nothing, plese try again"),e.abrupt("return");case 9:return e.abrupt("return",r.results);case 12:return e.prev=12,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function y(){return(y=Object(b.a)(v.a.mark((function e(t){var a,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"movie/".concat(t)},e.next=4,f()(a,t);case 4:return c=e.sent,n=c.data,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function w(){return(w=Object(b.a)(v.a.mark((function e(t){var a,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"movie/".concat(t,"/credits")},c=f()(a,t),n=c.data,e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function S(){return(S=Object(b.a)(v.a.mark((function e(t){var a,c,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"movie/".concat(t,"/reviews")},c=f()(a,t),n=c.data,e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}_.propTypes={query:g.a.string.isRequired,page:g.a.number.isRequired};var k={getMoviesTrending:x,getSerchMovies:_,getMovieDetails:function(e){return y.apply(this,arguments)},getMovieCredits:function(e){return w.apply(this,arguments)},getMoviesReviews:function(e){return S.apply(this,arguments)}},C=a(0),M=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={trending:[],src:"https://image.tmdb.org/t/p/w500",location:j.f},e.fetchTrending=function(){k.getMoviesTrending().then((function(t){e.setState({trending:Object(m.a)(t)})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchTrending()}},{key:"render",value:function(){var e=this.state,t=e.trending,a=e.src,c=e.location;return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("h2",{className:"page_title",children:" Today trending movies "}),Object(C.jsx)("ul",{className:"movies_ul",children:t.map((function(e){var t=e.id,n=e.poster_path,r=e.title,s=e.vote_average;return Object(C.jsx)(h.b,{to:{pathname:"/movies/".concat(t),from:c.pathname},children:Object(C.jsxs)("li",{className:"movies_li",children:[Object(C.jsx)("img",{className:"movies_img",src:"".concat(a).concat(n),alt:r}),Object(C.jsxs)("p",{className:"movies_title",children:[" ",r]}),Object(C.jsx)("p",{className:"movies_rating",children:Object(C.jsx)("span",{className:"rating",children:s})})]})},t)}))})]})}}]),a}(n.a.Component),D=a(19),L=a.n(D),F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={search:""},e.handleChange=function(t){e.setState({search:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.search),e.setState({search:""})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.search;return Object(C.jsx)("header",{className:L.a.Searchbar,children:Object(C.jsxs)("form",{onSubmit:this.handleSubmit,className:L.a.SearchForm,children:[Object(C.jsx)("button",{type:"submit",className:L.a.SearchForm_button,children:Object(C.jsx)("span",{className:L.a.SearchForm_button_label,children:"Search"})}),Object(C.jsx)("input",{className:L.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:e,onChange:this.handleChange})]})})}}]),a}(n.a.Component),q=a(35),R=a.n(q),A=function(e){return Object(C.jsx)("div",{className:"loaderDiv",children:Object(C.jsx)(R.a,{loading:e,color:"red"})})},B=a(24),I=a.n(B),T=function(e){var t=e.onClick;return Object(C.jsx)("div",{className:I.a.btnDiv,children:Object(C.jsx)("button",{className:I.a.Button,type:"button",onClick:t,children:"Load more"})})},U=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={src:"https://image.tmdb.org/t/p/w500",location:j.f},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.src,a=e.location,c=this.props.movies;return Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("ul",{className:"movies_ul",children:c.map((function(e){var c=e.id,n=e.poster_path,r=e.title,s=e.vote_average;return Object(C.jsx)(h.b,{to:{pathname:"/movies/".concat(c),from:a.pathname},children:Object(C.jsxs)("li",{className:"movies_li",children:[Object(C.jsx)("img",{className:"movies_img",src:"".concat(t).concat(n),alt:r}),Object(C.jsxs)("p",{className:"movies_title",children:[" ",r]}),Object(C.jsx)("p",{className:"movies_rating",children:Object(C.jsx)("span",{className:"rating",children:s})})]})},c)}))})})}}]),a}(n.a.Component),H=function(){return Object(C.jsx)("div",{children:Object(C.jsx)("h2",{className:"page_title",children:"Nothing, please start your search"})})},J=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={movies:[],page:1,query:"",isLoading:!1,error:null},e.formSubmitQuery=function(t){e.setState({query:t,movies:[],page:1,error:null})},e.feachMovies=function(){var t=e.state,a=t.query,c=t.page;e.setState({isLoading:!0}),f.a.get("https://api.themoviedb.org/3/search/movie?query=".concat(a,"&page=").concat(c,"&api_key=523a15ded98cd05fab36993344058e43")).then((function(t){e.setState((function(e){return{movies:[].concat(Object(m.a)(e.movies),Object(m.a)(t.data.results)),page:e.page+1}}))})).catch((function(e){return console.log(e),[]})).finally((function(){return e.setState({isLoading:!1})}))},e.handleChange=function(t){e.setState({query:t.target.value})},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.query!==this.state.query&&this.feachMovies()}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.isLoading,c=e.error,n=t.length>0&&!a,r=0===t.length;return Object(C.jsxs)("div",{children:[Object(C.jsx)(F,{onSubmit:this.formSubmitQuery}),Object(C.jsx)(W,{movies:t}),a&&Object(C.jsx)(A,{isLoading:a}),n&&Object(C.jsx)(T,{onClick:this.feachMovies,scroll:U()}),c&&Object(C.jsx)("h1",{children:c}),r&&Object(C.jsx)(H,{})]})}}]),a}(n.a.Component),Q=a(36),E=a.p+"static/media/default.2e01288c.jpg",z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={src:"https://image.tmdb.org/t/p/w500",isLoading:!1,cast:[]},e.fetchCredits=function(){var t=e.props.match.params.movieId;f.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=523a15ded98cd05fab36993344058e43")).then((function(t){e.setState({cast:Object(m.a)(t.data.cast)})})).catch((function(e){return console.log(e),[]}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchCredits()}},{key:"render",value:function(){var e=this.state,t=e.cast,a=e.src;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("ul",{className:"cast_ul",children:t.map((function(e){var t=e.cast_id,c=e.profile_path,n=e.name,r=e.character;return Object(C.jsxs)("li",{className:"cast_li",children:[c?Object(C.jsx)("img",{src:"".concat(a).concat(c),alt:"Movie poster",className:"cast_img"}):Object(C.jsx)("img",{src:E,alt:"Was not found",className:"cast_img"}),Object(C.jsx)("h3",{className:"cast_title",children:n}),Object(C.jsx)("p",{className:"cast_text",children:r})]},t)}))})})})}}]),a}(n.a.Component),G=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={reviews:[]},e.fetchReviews=function(){var t=e.props.match.params.movieId;f.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=523a15ded98cd05fab36993344058e43")).then((function(t){e.setState({reviews:Object(m.a)(t.data.results)})})).catch((function(e){return console.log(e),[]}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchReviews()}},{key:"render",value:function(){var e=this.state.reviews;return Object(C.jsx)("div",{children:Object(C.jsx)("ul",{children:e.length>0?e.map((function(e){var t=e.id,a=e.author,c=e.content;return Object(C.jsxs)("li",{children:[Object(C.jsx)("h3",{className:"data",children:a}),Object(C.jsx)("p",{className:"text",children:c})]},t)})):"We don't have any reviews for this movie."})})}}]),a}(n.a.Component),K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={src:"https://image.tmdb.org/t/p/w500",release_date:null},e.fetchDetails=function(){var t=e.props.match.params.movieId;k.getMovieDetails(t).then((function(t){e.setState(Object(Q.a)({},t))}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchDetails()}},{key:"render",value:function(){var e=this.state,t=e.src,a=e.original_title,c=e.poster_path,n=e.overview,r=e.release_date,s=e.popularity,i=e.vote_average,o=e.vote_count,l=e.genres,u=this.props.match;return Object(C.jsxs)("div",{className:"movie_div container",children:[Object(C.jsx)("h2",{className:"movie_title",children:a}),c&&Object(C.jsx)("img",{className:"movie_img",src:"".concat(t).concat(c),alt:a}),Object(C.jsxs)("div",{className:"movie_info",children:[Object(C.jsxs)("p",{className:"text",children:["Release: ",Object(C.jsx)("span",{className:"data",children:r})]}),Object(C.jsx)("h3",{className:"movie_overview",children:"Overview "}),Object(C.jsx)("span",{className:"text",children:n}),Object(C.jsxs)("p",{className:"text",children:["Popularity:"," ",Object(C.jsx)("span",{className:"data",children:String(Math.round(s))})]}),Object(C.jsxs)("p",{className:"text",children:["Rating: ",Object(C.jsx)("span",{className:"data",children:i})]}),Object(C.jsxs)("p",{className:"text",children:["Count: ",Object(C.jsx)("span",{className:"data",children:o})]}),Object(C.jsx)("h3",{className:"text",children:"Genres"}),l?l.map((function(e){var t=e.id,a=e.name;return Object(C.jsx)("p",{className:"data",children:a},t)})):"We don't have any ganres for this movie."]}),Object(C.jsxs)("div",{className:"navlink_div",children:[Object(C.jsxs)(h.c,{to:"".concat(u.url,"/cast"),className:"NavLink link",activeClassName:"NavLink-active",children:["Cast ",Object(C.jsx)("span",{className:"link_sign",children:"\u25bc"})]}),Object(C.jsxs)(h.c,{to:"".concat(u.url,"/reviews"),className:"NavLink link",activeClassName:"NavLink-active",children:["Reviews ",Object(C.jsx)("span",{className:"link_sign",children:"\u25bc"})]})]}),Object(C.jsxs)(j.c,{children:[Object(C.jsx)(j.a,{path:"".concat(u.path,"/cast"),component:z}),Object(C.jsx)(j.a,{path:"".concat(u.path,"/reviews"),component:G})]})]})}}]),a}(n.a.Component),P=(a(74),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"NavDiv",children:[Object(C.jsx)(h.c,{exact:!0,to:"/",className:"NavLink",activeClassName:"NavLink-active",children:"Home"}),Object(C.jsx)(h.c,{to:"/movies",className:"NavLink",activeClassName:"NavLink-active",children:"Movies"}),Object(C.jsx)("a",{href:"https://www.themoviedb.org/",children:Object(C.jsx)("img",{className:"nav_img",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"img themoviedb.org"})})]}),Object(C.jsxs)(j.c,{children:[Object(C.jsx)(j.a,{exact:!0,path:"/",component:M}),Object(C.jsx)(j.a,{exact:!0,path:"/movies",component:J}),Object(C.jsx)(j.a,{path:"/movies/:movieId",component:K}),Object(C.jsx)(j.a,{component:M})]})]})}}]),a}(n.a.Component));a(75);s.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(h.a,{children:Object(C.jsx)(P,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.55f884d0.chunk.js.map