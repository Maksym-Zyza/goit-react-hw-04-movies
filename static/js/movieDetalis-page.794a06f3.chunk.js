(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{41:function(e,t,a){"use strict";a(0);var c=a(50),n=a.n(c),s=a(1);t.a=function(e){return Object(s.jsx)("div",{className:"loaderDiv",children:Object(s.jsx)(n.a,{loading:e,color:"red"})})}},82:function(e,t,a){"use strict";function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.r(t);var r=a(15),i=a(16),o=a(18),l=a(17),h=a(0),j=a.n(h),d=a(2),u=a(40),p=a(39),m=a.n(p),v=a.p+"static/media/default.2e01288c.jpg",b=a(41),O=a(1),f=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={src:"https://image.tmdb.org/t/p/w500",isLoading:!1,cast:[]},e.fetchCredits=function(){var t=e.props.match.params.movieId;e.setState({isLoading:!0}),m.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=523a15ded98cd05fab36993344058e43")).then((function(t){e.setState({cast:Object(u.a)(t.data.cast)})})).catch((function(e){return console.log(e),[]})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchCredits()}},{key:"render",value:function(){var e=this.state,t=e.cast,a=e.src,c=e.isLoading;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("ul",{className:"cast_ul",children:t.map((function(e){var t=e.cast_id,c=e.profile_path,n=e.name,s=e.character;return Object(O.jsxs)("li",{className:"cast_li",children:[c?Object(O.jsx)("img",{src:"".concat(a).concat(c),alt:"Movie poster",className:"cast_img"}):Object(O.jsx)("img",{src:v,alt:"Was not found",className:"cast_img"}),Object(O.jsx)("h3",{className:"cast_title",children:n}),Object(O.jsx)("p",{className:"cast_text",children:s})]},t)}))})}),c&&Object(O.jsx)(b.a,{isLoading:c})]})}}]),a}(j.a.Component),g=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var c=arguments.length,n=new Array(c),s=0;s<c;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={reviews:[]},e.fetchReviews=function(){var t=e.props.match.params.movieId;m.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=523a15ded98cd05fab36993344058e43")).then((function(t){e.setState({reviews:Object(u.a)(t.data.results)})})).catch((function(e){return console.log(e),[]}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchReviews()}},{key:"render",value:function(){var e=this.state.reviews;return Object(O.jsx)("div",{children:Object(O.jsx)("ul",{children:e.length>0?e.map((function(e){var t=e.id,a=e.author,c=e.content;return Object(O.jsxs)("li",{children:[Object(O.jsx)("h3",{className:"data",children:a}),Object(O.jsx)("p",{className:"text",children:c})]},t)})):"We don't have any reviews for this movie."})})}}]),a}(j.a.Component),x=a(51),y=a(19),N=a(8),w=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var c=arguments.length,n=new Array(c),i=0;i<c;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={src:"https://image.tmdb.org/t/p/w500",release_date:null},e.fetchDetails=function(){var t=e.props.match.params.movieId;x.a.getMovieDetails(t).then((function(t){e.setState(s({},t))}))},e.hendleGoBack=function(){var t,a=e.props,c=a.location,n=a.history;n.push((null===c||void 0===c||null===(t=c.state)||void 0===t?void 0:t.from)||n.push(N.a.home))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchDetails()}},{key:"render",value:function(){var e=this.state,t=e.src,a=e.original_title,c=e.poster_path,n=e.overview,s=e.release_date,r=e.popularity,i=e.vote_average,o=e.vote_count,l=e.genres,h=this.props,j=h.match,u=h.location;return console.log(u.state),Object(O.jsxs)("div",{className:"movie_div container",children:[Object(O.jsx)("button",{className:"movie_btn",type:"button",onClick:this.hendleGoBack,children:"\u25c4 Back"}),Object(O.jsx)("h2",{className:"movie_title",children:a}),c&&Object(O.jsx)("img",{className:"movie_img",src:"".concat(t).concat(c),alt:a}),Object(O.jsxs)("div",{className:"movie_info",children:[Object(O.jsxs)("p",{className:"text",children:["Release: ",Object(O.jsx)("span",{className:"data",children:s})]}),Object(O.jsx)("h3",{className:"movie_overview",children:"Overview "}),Object(O.jsx)("span",{className:"text",children:n}),Object(O.jsxs)("p",{className:"text",children:["Popularity:"," ",Object(O.jsx)("span",{className:"data",children:String(Math.round(r))})]}),Object(O.jsxs)("p",{className:"text",children:["Rating: ",Object(O.jsx)("span",{className:"data",children:i})]}),Object(O.jsxs)("p",{className:"text",children:["Count: ",Object(O.jsx)("span",{className:"data",children:o})]}),Object(O.jsx)("h3",{className:"text",children:"Genres"}),l?l.map((function(e){var t=e.id,a=e.name;return Object(O.jsx)("p",{className:"data",children:a},t)})):"We don't have any ganres for this movie."]}),Object(O.jsx)(y.a.NavMovieDetails,{match:j}),Object(O.jsxs)(d.c,{children:[Object(O.jsx)(d.a,{path:"".concat(j.path,"/cast"),component:f}),Object(O.jsx)(d.a,{path:"".concat(j.path,"/reviews"),component:g})]})]})}}]),a}(j.a.Component);t.default=w}}]);
//# sourceMappingURL=movieDetalis-page.794a06f3.chunk.js.map