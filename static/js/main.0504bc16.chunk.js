(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{19:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchForm_button:"Searchbar_SearchForm_button__3eKQ3",SearchForm_button_label:"Searchbar_SearchForm_button_label__5zUwS",SearchForm_input:"Searchbar_SearchForm_input__11BIx"}},25:function(e,t,a){e.exports={Button:"Button_Button__3R1xi",btnDiv:"Button_btnDiv__1IJi6"}},74:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(34),s=a.n(c),i=a(4),o=a(5),l=a(7),u=a(6),m=a(11),h=a(2),p=a(20),v=a(13),j=a.n(v),d=a(18),b=a(14),f=a.n(b),O=a(15),g=a.n(O);f.a.defaults.baseURL="https://api.themoviedb.org/3/",f.a.defaults.params={api_key:"523a15ded98cd05fab36993344058e43",language:"en-US"};var x=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"trending/movie/day"},e.next=4,f()(t);case 4:return a=e.sent,n=a.data,e.abrupt("return",n.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();function _(e,t){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(j.a.mark((function e(t,a){var n,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"search/movie",params:{query:t,page:a}},e.next=4,f()(n);case 4:if(r=e.sent,0!==(c=r.data).results.lenth){e.next=9;break}return alert("Nothing, plese try again"),e.abrupt("return");case 9:return e.abrupt("return",c.results);case 12:return e.prev=12,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function y(){return(y=Object(d.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"movie/".concat(t)},e.next=4,f()(a,t);case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function w(){return(w=Object(d.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"movie/".concat(t,"/credits")},n=f()(a,t),r=n.data,e.abrupt("return",r);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function S(){return(S=Object(d.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"movie/".concat(t,"/reviews")},n=f()(a,t),r=n.data,e.abrupt("return",r);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}_.propTypes={query:g.a.string.isRequired,page:g.a.number.isRequired};var k={getMoviesTrending:x,getSerchMovies:_,getMovieDetails:function(e){return y.apply(this,arguments)},getMovieCredits:function(e){return w.apply(this,arguments)},getMoviesReviews:function(e){return S.apply(this,arguments)}},C=a(0),q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={trending:[],src:"https://image.tmdb.org/t/p/w500",location:h.f},e.fetchTrending=function(){k.getMoviesTrending().then((function(t){e.setState({trending:Object(p.a)(t)})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchTrending()}},{key:"render",value:function(){var e=this.state,t=e.trending,a=e.src,n=e.location;return console.log(t),Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("h2",{className:"page_title",children:" Today trending movies "}),Object(C.jsx)("ul",{className:"movies_ul",children:t.map((function(e){var t=e.id,r=e.poster_path,c=e.title,s=e.vote_average;return Object(C.jsx)(m.b,{to:{pathname:"/movies/".concat(t),from:n.pathname},children:Object(C.jsxs)("li",{className:"movies_li",children:[Object(C.jsx)("img",{className:"movies_img",src:"".concat(a).concat(r),alt:c}),Object(C.jsxs)("p",{className:"movies_title",children:[" ",c]}),Object(C.jsx)("p",{className:"movies_rating",children:Object(C.jsx)("span",{className:"rating",children:s})})]})},t)}))})]})}}]),a}(r.a.Component),M=a(19),L=a.n(M),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.handleChange=function(t){e.setState({search:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.search),e.setState({search:""})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.search;return Object(C.jsx)("header",{className:L.a.Searchbar,children:Object(C.jsxs)("form",{onSubmit:this.handleSubmit,className:L.a.SearchForm,children:[Object(C.jsx)("button",{type:"submit",className:L.a.SearchForm_button,children:Object(C.jsx)("span",{className:L.a.SearchForm_button_label,children:"Search"})}),Object(C.jsx)("input",{className:L.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:e,onChange:this.handleChange})]})})}}]),a}(r.a.Component),F=a(36),R=a.n(F),A=function(e){return Object(C.jsx)("div",{className:"loaderDiv",children:Object(C.jsx)(R.a,{loading:e,color:"red"})})},I=a(25),B=a.n(I),T=function(e){var t=e.onClick;return Object(C.jsx)("div",{className:B.a.btnDiv,children:Object(C.jsx)("button",{className:B.a.Button,type:"button",onClick:t,children:"Load more"})})},U=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},H=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={src:"https://image.tmdb.org/t/p/w500",location:h.f},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.src,a=e.location,n=this.props.movies;return console.log(this.props),Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("ul",{className:"movies_ul",children:n.map((function(e){var n=e.id,r=e.poster_path,c=e.title,s=e.vote_average;return Object(C.jsx)(m.b,{to:{pathname:"/movies/".concat(n),from:a.pathname},children:Object(C.jsxs)("li",{className:"movies_li",children:[Object(C.jsx)("img",{className:"movies_img",src:"".concat(t).concat(r),alt:c}),Object(C.jsxs)("p",{className:"movies_title",children:[" ",c]}),Object(C.jsx)("p",{className:"movies_rating",children:Object(C.jsx)("span",{className:"rating",children:s})})]})},n)}))})})}}]),a}(r.a.Component),J=function(){return Object(C.jsx)("div",{children:Object(C.jsx)("h2",{className:"page_title",children:"Nothing, please start your search"})})},Q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],page:1,query:"",isLoading:!1,error:null},e.formSubmitQuery=function(t){e.setState({query:t,movies:[],page:1,error:null})},e.feachMovies=function(){var t=e.state,a=t.query,n=t.page;e.setState({isLoading:!0}),f.a.get("https://api.themoviedb.org/3/search/movie?query=".concat(a,"&page=").concat(n,"&api_key=523a15ded98cd05fab36993344058e43")).then((function(t){e.setState((function(e){return{movies:[].concat(Object(p.a)(e.movies),Object(p.a)(t.data.results)),page:e.page+1}}))})).catch((function(e){return console.log(e),[]})).finally((function(){return e.setState({isLoading:!1})}))},e.handleChange=function(t){e.setState({query:t.target.value})},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.query!==this.state.query&&this.feachMovies()}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.isLoading,n=e.error,r=t.length>0&&!a,c=0===t.length;return Object(C.jsxs)("div",{children:[Object(C.jsx)(D,{onSubmit:this.formSubmitQuery}),Object(C.jsx)(H,{movies:t}),a&&Object(C.jsx)(A,{isLoading:a}),r&&Object(C.jsx)(T,{onClick:this.feachMovies,scroll:U()}),n&&Object(C.jsx)("h1",{children:n}),c&&Object(C.jsx)(J,{})]})}}]),a}(r.a.Component),E=a(17),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.fetchCredits=function(){var t=e.props.match.params.movieId;console.log(t),k.getMovieCredits(t).then((function(t){e.setState(Object(E.a)({},t))}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchCredits()}},{key:"render",value:function(){return console.log(this.state),Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{children:" Cast page "}),Object(C.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Adipisci maiores quia dolorum porro quidem officiis impedit molestias quaerat numquam nobis"})]})}}]),a}(r.a.Component),G=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.fetchReviews=function(){var t=e.props.match.params.movieId;console.log(t),k.getMoviesReviews(t).then((function(t){e.setState(Object(E.a)({},t))}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchReviews()}},{key:"render",value:function(){return console.log(this.state),Object(C.jsxs)("div",{children:[Object(C.jsx)("h2",{children:" Reviews page "}),Object(C.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Adipisci maiores quia dolorum porro quidem officiis impedit molestias quaerat numquam nobis Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam sequi tenetur laborum ab dolorem accusamus, autem perspiciatis rerum deserunt placeat dolor, impedit id nesciunt dignissimos laudantium, vitae iusto maxime? Nam."})]})}}]),a}(r.a.Component),K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={src:"https://image.tmdb.org/t/p/w500",release_date:null},e.fetchDetails=function(){var t=e.props.match.params.movieId;k.getMovieDetails(t).then((function(t){e.setState(Object(E.a)({},t))}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchDetails()}},{key:"render",value:function(){var e=this.state,t=e.src,a=e.original_title,n=e.poster_path,r=e.overview,c=e.release_date,s=e.popularity,i=e.vote_average,o=e.vote_count;return Object(C.jsxs)("div",{className:"movie_div container",children:[Object(C.jsx)("h2",{className:"movie_title",children:a}),n&&Object(C.jsx)("img",{className:"movie_img",src:"".concat(t).concat(n),alt:a}),Object(C.jsxs)("div",{className:"movie_info",children:[Object(C.jsxs)("p",{className:"movie_text",children:["Release: ",Object(C.jsx)("span",{className:"movie_data",children:c})]}),Object(C.jsx)("h3",{className:"movie_overview",children:"Overview "}),Object(C.jsx)("span",{className:"movie_text",children:r}),Object(C.jsxs)("p",{className:"movie_text",children:["Popularity: ",Object(C.jsx)("span",{className:"movie_data",children:s})]}),Object(C.jsxs)("p",{className:"movie_text",children:["Rating: ",Object(C.jsx)("span",{className:"movie_data",children:i})]}),Object(C.jsxs)("p",{className:"movie_text",children:["Count: ",Object(C.jsx)("span",{className:"movie_data",children:o})]}),Object(C.jsx)("h3",{className:"movie_text",children:"Genres"})]}),Object(C.jsxs)("div",{className:"navlink_div",children:[Object(C.jsxs)(m.c,{to:"".concat(this.props.match.url,"/cast"),className:"NavLink link",activeClassName:"NavLink-active",children:["Cast ",Object(C.jsx)("span",{className:"link_sign",children:"\u25bc"})]}),Object(C.jsxs)(m.c,{to:"".concat(this.props.match.url,"/reviews"),className:"NavLink link",activeClassName:"NavLink-active",children:["Reviews ",Object(C.jsx)("span",{className:"link_sign",children:"\u25bc"})]})]}),Object(C.jsxs)(h.c,{children:[Object(C.jsx)(h.a,{path:"/movies/:movieId/cast",component:z}),Object(C.jsx)(h.a,{path:"/movies/:movieId/reviews",component:G})]})]})}}]),a}(r.a.Component),P=(a(74),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"NavDiv",children:[Object(C.jsx)(m.c,{exact:!0,to:"/",className:"NavLink",activeClassName:"NavLink-active",children:"Home"}),Object(C.jsx)(m.c,{to:"/movies",className:"NavLink",activeClassName:"NavLink-active",children:"Movies"}),Object(C.jsx)("a",{href:"https://www.themoviedb.org/",children:Object(C.jsx)("img",{className:"nav_img",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg",alt:"img themoviedb.org"})})]}),Object(C.jsxs)(h.c,{children:[Object(C.jsx)(h.a,{exact:!0,path:"/",component:q}),Object(C.jsx)(h.a,{exact:!0,path:"/movies",component:Q}),Object(C.jsx)(h.a,{path:"/movies/:movieId",component:K}),Object(C.jsx)(h.a,{component:q})]})]})}}]),a}(r.a.Component));a(75);s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(m.a,{children:Object(C.jsx)(P,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.0504bc16.chunk.js.map