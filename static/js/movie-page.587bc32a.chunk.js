(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{41:function(e,t,a){"use strict";a(0);var n=a(50),r=a.n(n),c=a(1);t.a=function(e){return Object(c.jsx)("div",{className:"loaderDiv",children:Object(c.jsx)(r.a,{loading:e,color:"red"})})}},72:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchForm_button:"Searchbar_SearchForm_button__3eKQ3",SearchForm_button_label:"Searchbar_SearchForm_button_label__5zUwS",SearchForm_input:"Searchbar_SearchForm_input__11BIx"}},78:function(e,t,a){e.exports={Button:"Button_Button__3R1xi",btnDiv:"Button_btnDiv__1IJi6"}},81:function(e,t,a){"use strict";a.r(t);var n=a(40),r=a(15),c=a(16),o=a(18),s=a(17),i=a(0),l=a.n(i),u=a(39),h=a.n(u),b=a(72),m=a.n(b),j=a(1),v=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={search:""},e.handleChange=function(t){e.setState({search:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.search),e.setState({search:""})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.search;return Object(j.jsx)("header",{className:m.a.Searchbar,children:Object(j.jsxs)("form",{onSubmit:this.handleSubmit,className:m.a.SearchForm,children:[Object(j.jsx)("button",{type:"submit",className:m.a.SearchForm_button,children:Object(j.jsx)("span",{className:m.a.SearchForm_button_label,children:"Search"})}),Object(j.jsx)("input",{className:m.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:e,onChange:this.handleChange})]})})}}]),a}(l.a.Component),d=a(41),p=a(78),f=a.n(p),_=function(e){var t=e.onClick;return Object(j.jsx)("div",{className:f.a.btnDiv,children:Object(j.jsx)("button",{className:f.a.Button,type:"button",onClick:t,children:"Load more"})})},O=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},g=a(2),S=a(7),x=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={src:"https://image.tmdb.org/t/p/w500",location:g.f},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.src,t=this.props,a=t.movies,n=t.location;return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("ul",{className:"movies_ul",children:a.map((function(t){var a=t.id,r=t.poster_path,c=t.title,o=t.vote_average;return Object(j.jsx)(S.b,{to:{pathname:"/movies/".concat(a),state:{from:"".concat(n.pathname)}},children:Object(j.jsxs)("li",{className:"movies_li",children:[Object(j.jsx)("img",{className:"movies_img",src:"".concat(e).concat(r),alt:c}),Object(j.jsxs)("p",{className:"movies_title",children:[" ",c]}),Object(j.jsx)("p",{className:"movies_rating",children:Object(j.jsx)("span",{className:"rating",children:o})})]})},a)}))})})}}]),a}(l.a.Component),y=Object(g.g)(x),N=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h2",{className:"page_title",children:"Nothing, please start your search"})})},F=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={movies:[],page:1,query:"",isLoading:!1,error:null},e.formSubmitQuery=function(t){e.setState({query:t,movies:[],page:1,error:null})},e.feachMovies=function(){var t=e.state,a=t.query,r=t.page;e.setState({isLoading:!0}),h.a.get("https://api.themoviedb.org/3/search/movie?query=".concat(a,"&page=").concat(r,"&api_key=523a15ded98cd05fab36993344058e43")).then((function(t){e.setState((function(e){return{movies:[].concat(Object(n.a)(e.movies),Object(n.a)(t.data.results)),page:e.page+1}}))})).catch((function(e){return console.log(e),[]})).finally((function(){return e.setState({isLoading:!1})}))},e.handleChange=function(t){e.setState({query:t.target.value})},e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.query!==this.state.query&&this.feachMovies()}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.isLoading,n=e.error,r=t.length>0&&!a,c=0===t.length;return Object(j.jsxs)("div",{children:[Object(j.jsx)(v,{onSubmit:this.formSubmitQuery}),Object(j.jsx)(y,{movies:t}),a&&Object(j.jsx)(d.a,{isLoading:a}),r&&Object(j.jsx)(_,{onClick:this.feachMovies,scroll:O()}),n&&Object(j.jsx)("h1",{children:n}),c&&Object(j.jsx)(N,{})]})}}]),a}(l.a.Component);t.default=F}}]);
//# sourceMappingURL=movie-page.587bc32a.chunk.js.map